services:
  # frontend:
  #   image: awesome/webapp
  #   ports:
  #     - "443:8043"
  #   networks:
  #     - front-tier
  #     - back-tier


  backend:
    container_name: postgres
    image: postgres:14.2-alpine
    restart: always
    volumes:
      - ./data/postgres/pgdata:/var/lib/postgresql/data/pgdata
      # - type: volume
      #   source: ./data
      #   target: /data
    networks:
      - back-tier
    ports: 
      - "5432:5432"
    # environment:
      # POSTGRES_USER: ${POSTGRES_USER}
      # POSTGRES_PASSWORD: ${POSTGRES_PASSWORD}
      # POSTGRES_DB: ${POSTGRES_DB}
      # PGDATA: /var/lib/postgresql/data/pgdata

    environment:
      POSTGRES_USER: "postgresguy"
      POSTGRES_PASSWORD: "DoubleSecretProbation"
      POSTGRES_DB: django_db
      PGDATA: /var/lib/postgresql/data/pgdata


# configs:
#   httpd-config:
#     external: true

# secrets:
#   server-certificate:
#     external: true

networks:
  # The presence of these objects is sufficient to define them
  front-tier: {}
  back-tier: {}